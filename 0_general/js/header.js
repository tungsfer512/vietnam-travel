
let userDropdowns = [
  {
    link: "./../8_user/ordered.html",
    title: "Đơn hàng",
    icon: `<svg data-v-548257a2="" fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="klook-symbol-gray-800">
    <path
      d="M8 6.7a.8.8 0 100 1.6h8a.8.8 0 000-1.6H8zM7.2 11a.8.8 0 01.8-.8h8a.8.8 0 010 1.6H8a.8.8 0 01-.8-.8zm.8 2.7a.8.8 0 000 1.6h4a.8.8 0 000-1.6H8z">
    </path>
    <path fill-rule="evenodd"
      d="M7 2a4 4 0 00-4 4v14.545a.7.7 0 001.137.547l1.8-1.439a1 1 0 011.33.072L8.548 21a1 1 0 001.387.022l1.383-1.289a1 1 0 011.364 0l1.426 1.329a1 1 0 001.34.02l1.6-1.402a1 1 0 011.324.004l1.443 1.283a.7.7 0 001.165-.522l.016-14.44a4 4 0 00-4-4.004H7zM4.94 18.403l-.34.271V6A2.4 2.4 0 017 3.6h9.996a2.4 2.4 0 012.4 2.403l-.014 12.44a2.6 2.6 0 00-3.39.033l-1.19 1.045-1.03-.96a2.6 2.6 0 00-3.545 0l-.96.896-.872-.866a2.6 2.6 0 00-3.456-.188z"
      clip-rule="evenodd"></path>
  </svg>`,
  },
  {
    link: "./../8_user/coupon.html",
    title: "Mã ưu đãi",
    icon: `<svg data-v-548257a2="" fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="klook-symbol-gray-800"><path d="M14.842 8.055a.8.8 0 111.131 1.132l-6.715 6.716a.8.8 0 01-1.132-1.132l6.716-6.716zm-6.8.025a1.3 1.3 0 101.839 1.84 1.3 1.3 0 00-1.839-1.84zm6 7.84a1.3 1.3 0 111.838-1.84 1.3 1.3 0 01-1.838 1.84z"></path><path fill-rule="evenodd" d="M22 8a4 4 0 00-4-4H6a4 4 0 00-4 4v1.5c0 .331.275.59.59.694a1.9 1.9 0 010 3.612c-.315.103-.59.363-.59.694V16a4 4 0 004 4h12a4 4 0 004-4v-1.5c0-.331-.275-.59-.59-.694a1.9 1.9 0 010-3.612c.315-.103.59-.363.59-.694V8zM3.6 8v.886a3.5 3.5 0 010 6.228V16A2.4 2.4 0 006 18.4h12a2.4 2.4 0 002.4-2.4v-.886a3.5 3.5 0 010-6.228V8A2.4 2.4 0 0018 5.6H6A2.4 2.4 0 003.6 8z" clip-rule="evenodd"></path></svg>`,
  },
  {
    link: "./../8_user/credit.html",
    title: "Credit",
    icon: `<svg data-v-548257a2="" fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="klook-symbol-gray-800"><path fill-rule="evenodd" d="M11.34 9.207c-1.134.284-2.032 1.23-2.032 2.452 0 1.223.898 2.168 2.031 2.453v2.201c-.401-.212-.639-.596-.639-.972a.7.7 0 10-1.4 0c0 1.225.902 2.172 2.04 2.454V18a.7.7 0 101.4 0v-.201c1.142-.279 2.05-1.228 2.05-2.458 0-1.23-.908-2.18-2.05-2.458v-2.207c.413.21.659.6.659.983a.7.7 0 101.4 0c0-1.233-.913-2.184-2.06-2.46V9a.7.7 0 10-1.4 0v.207zm0 3.42v-1.936c-.397.213-.632.594-.632.968s.235.755.631.968zm1.4 3.693c.408-.211.65-.599.65-.98 0-.38-.242-.767-.65-.978v1.958z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M15.92 2.52c.835.011 1.177.065 1.528.266.745.425.703 1.227.07 2.219l-.434.81C19.45 7.986 21 11.889 21 14.377 21 18.386 18.97 22 12 22c-6.97 0-9-3.613-9-7.624 0-2.488 1.551-6.391 3.916-8.56l-.435-.811c-.632-.992-.674-1.794.071-2.22.405-.23.798-.267 1.95-.268a12.097 12.097 0 016.995 0l.423.002zm-.664 1.595l-.22-.066a10.497 10.497 0 00-6.072 0l-.225.067h-.234a22.3 22.3 0 00-.686.01l.011.018.033.051.753 1.405h6.768l.753-1.405.033-.051.011-.018c-.079-.003-.17-.005-.278-.007l-.647-.004zM7.733 7.25c-.86.874-1.62 2.064-2.184 3.34-.633 1.434-.949 2.82-.949 3.786 0 1.756.443 3.192 1.428 4.195.978.997 2.749 1.83 5.972 1.83 3.223 0 4.994-.833 5.972-1.83.985-1.003 1.428-2.439 1.428-4.195 0-.984-.329-2.405-.984-3.865-.561-1.249-1.308-2.406-2.148-3.26H7.733z" clip-rule="evenodd"></path></svg>`,
  },
  {
    link: "./../8_user/gift_card.html",
    title: "Phiếu quà tặng Klook",
    icon: `<svg data-v-548257a2="" fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="klook-symbol-gray-800"><path fill-rule="evenodd" d="M6.996 4.502A2.502 2.502 0 0112 4.468 2.502 2.502 0 1116.506 6h1.218A4.276 4.276 0 0122 10.276v6.448A4.276 4.276 0 0117.724 21H6.276A4.276 4.276 0 012 16.724v-6.448A4.276 4.276 0 016.276 6h1.218a2.49 2.49 0 01-.498-1.498zm3.504 0v1.002H9.498A1.002 1.002 0 1110.5 4.502zM17.724 7.6a2.676 2.676 0 012.676 2.676v3.631a.797.797 0 00-.4-.107H4a.797.797 0 00-.4.107v-3.631A2.676 2.676 0 016.276 7.6h3.813l-1.77 2.528a.8.8 0 101.31.918L12.044 7.6h.069l2.408 3.44a.8.8 0 001.311-.918L14.065 7.6h3.66zM3.6 15.293v1.431A2.676 2.676 0 006.276 19.4h11.448a2.676 2.676 0 002.676-2.676v-1.43a.797.797 0 01-.4.106H4a.797.797 0 01-.4-.107zm9.9-9.79v-1a1.002 1.002 0 111.002 1.002H13.5z" clip-rule="evenodd"></path></svg>`,
  },
  {
    link: "./../8_user/wishlist.html",
    title: "Yêu thích",
    icon: `<svg data-v-548257a2="" fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="klook-symbol-gray-800"><path fill-rule="evenodd" d="M1.95 9.1c.01-3.218 2.49-5.9 5.642-5.9 1.796 0 3.381.878 4.408 2.225C13.027 4.078 14.612 3.2 16.408 3.2c3.157 0 5.642 2.692 5.642 5.918l-.002.133v.052l-.001.044v.024c0 2.659-1.205 4.951-2.923 6.881-1.713 1.925-3.978 3.539-6.213 4.864a1.771 1.771 0 01-1.83-.012c-2.223-1.359-4.474-3.005-6.183-4.96-1.712-1.957-2.92-4.272-2.948-6.945V9.1zm20.096.271c0 .002 0 .001 0 0zM3.55 9.104v.077c.023 2.172 1 4.134 2.553 5.91 1.556 1.781 3.653 3.328 5.812 4.648a.173.173 0 00.18.001c2.17-1.287 4.277-2.802 5.834-4.552 1.552-1.743 2.516-3.671 2.517-5.811v-.054l.002-.082.001-.085v-.038c0-2.427-1.85-4.318-4.04-4.318-1.48 0-2.795.854-3.503 2.162-.386.714-1.426.714-1.812 0C10.386 5.654 9.07 4.8 7.592 4.8c-2.187 0-4.035 1.883-4.042 4.304z" clip-rule="evenodd"></path></svg>`,
  },
  {
    link: "./../8_user/my_reviews.html",
    title: "Đánh giá",
    icon: `<svg data-v-548257a2="" fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="klook-symbol-gray-800"><path fill-rule="evenodd" d="M8.7 17.7a1.2 1.2 0 01-1.2-1.2V8.7a1.2 1.2 0 011.2-1.2h6.6a1.2 1.2 0 011.2 1.2v7.8a1.2 1.2 0 01-1.2 1.2H8.7zm.4-8.6v7h1.7V12a1.2 1.2 0 011.2-1.2h2.9V9.1H9.1zm3.3 7h2.425v-3.7H12.4v3.7z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M4.772 6.029A4 4 0 003.6 8.857V17.6a4 4 0 004 4h8.8a4 4 0 004-4V6.4a4 4 0 00-4-4h-6.343a4 4 0 00-2.828 1.172L4.772 6.029zM18.8 17.6V6.4A2.4 2.4 0 0016.4 4h-6.343a2.4 2.4 0 00-1.697.703L5.903 7.16A2.4 2.4 0 005.2 8.857V17.6A2.4 2.4 0 007.6 20h8.8a2.4 2.4 0 002.4-2.4z" clip-rule="evenodd"></path></svg>`,
  },
  {
    link: "./../8_user/invite.html",
    title: "Tích lũy điểm thưởng",
    icon: `<svg data-v-548257a2="" fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="klook-symbol-gray-800"><path fill-rule="evenodd" d="M11.492 11.519a.738.738 0 001.016-.004C14.31 9.8 15.5 8.408 15.5 7.02c0-1.131-.847-2.02-1.925-2.02-.316 0-.625.08-.903.223a2.107 2.107 0 00-.672.545 2.105 2.105 0 00-.67-.545A1.981 1.981 0 0010.424 5C9.347 5 8.5 5.889 8.5 7.02c0 1.388 1.19 2.78 2.992 4.499zM12 7.268a1.5 1.5 0 01-1.165-.556.559.559 0 00-.41-.212.375.375 0 00-.28.12.568.568 0 00-.145.4c0 .254.108.644.543 1.257.344.484.828 1.02 1.456 1.643.629-.623 1.114-1.16 1.458-1.644.435-.612.543-1.002.543-1.256a.568.568 0 00-.144-.4.375.375 0 00-.281-.12.56.56 0 00-.41.213A1.5 1.5 0 0112 7.268zm-.526 3.16l.527.554v.001l-.53-.553.003-.002zm.528.557v-.001l.506.53-.506-.529z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M4.55 10.38V6A3.75 3.75 0 018.3 2.25h7.4A3.75 3.75 0 0119.45 6v1.98l1.921.768a1 1 0 01.629.929V17a4 4 0 01-4 4H6a4 4 0 01-4-4V9.677a1 1 0 01.629-.929l1.921-.769v1.724l-.753.301.753.377zM6.05 6A2.25 2.25 0 018.3 3.75h7.4A2.25 2.25 0 0117.95 6v5.13l-5.413 2.707a1.2 1.2 0 01-1.074 0L6.05 11.131V6zM3.6 11.694V17A2.4 2.4 0 006 19.4h12a2.4 2.4 0 002.4-2.4v-5.306l-7.148 3.574a2.8 2.8 0 01-2.504 0L3.6 11.694zm16.603-1.69l-.753-.301v.678l.753-.377z" clip-rule="evenodd"></path></svg>`,
  },
  {
    link: "./../8_user/account_setting.html",
    title: "Cài đặt",
    icon: `<svg data-v-548257a2="" fill="currentColor" viewBox="0 0 24 24" width="24" height="24" class="klook-symbol-gray-800"><path fill-rule="evenodd" d="M12 16a4 4 0 110-8 4 4 0 010 8zm0-1.6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M21.845 10a4 4 0 010 4l-3.19 5.526a4 4 0 01-3.464 2H8.809a4 4 0 01-3.464-2L2.155 14a4 4 0 010-4l3.19-5.526a4 4 0 013.464-2h6.382a4 4 0 013.464 2L21.845 10zm-1.385 3.2l-3.191 5.526a2.4 2.4 0 01-2.078 1.2H8.809a2.4 2.4 0 01-2.078-1.2L3.54 13.2a2.4 2.4 0 010-2.4l3.19-5.526a2.4 2.4 0 012.078-1.2h6.382a2.4 2.4 0 012.078 1.2l3.19 5.526a2.4 2.4 0 010 2.4z" clip-rule="evenodd"></path></svg>`,
  },
  {
    link: "#",
    title: "Đăng xuất",
    icon: null,
  },
]

let userDropdownContainer = document.querySelector(".header-right-item-dropdown-user");
userDropdownContainer.innerHTML = '';
userDropdowns.forEach((userDropdown) => {
  let userDropdownItem = `
  <a href="${userDropdown.link}" class="header-right-item-dropdown-user-item">
    <div class="header-right-item-dropdown-user-item-icon" style="display:${(userDropdown.icon === null) ? 'none' : 'inline-block'};">
      ${userDropdown.icon}
    </div>
    <div class="header-right-item-dropdown-user-item-title">
      ${userDropdown.title}
    </div>
  </a>
  `;
  userDropdownContainer.innerHTML += userDropdownItem;
});

let headerRightContainer = document.querySelectorAll(".header-right-item");

headerRightContainer.forEach((headerRightItem) => {
  headerRightItem.addEventListener("click", (e) => {
    // console.log(e.target);
    let target = e.target;
    while (target !== headerRightItem) {
      target = target.parentElement;
    }
    console.log(target);
    let targetDropdown = target.children[1];
    console.log(targetDropdown);
    if (targetDropdown !== undefined) {
      if (targetDropdown.style.display === "block") {
        targetDropdown.style.display = "none";
        console.log("hide");
      } else {
        targetDropdown.style.display = "block";
      }
    }
  });
});

let sideTrigger = document.querySelector(".header-right-item:last-of-type");
let sideContainer = $(".header-bot-left");
let after = $('.header-bot-left::after');
console.log(after);
sideTrigger.addEventListener("click", (e) => {
  if (sideContainer.css("right") === "-240px") {
    after.css("height", "0px");
    sideContainer.css("animation", "sideShow 0.5s ease-in-out forwards");
  } else {
    after.css("height", "400%");
    sideContainer.css("animation", "sideHide 0.5s ease-in-out forwards");
  }
});
